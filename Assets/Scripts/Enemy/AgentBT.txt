tree("Root")
    repeat
        fallback
            tree("Priorities")
            tree("Push Check")
            tree("Attack")
            tree("Lay Trap")
            tree("Push")
            tree("Patrol")

tree("Priorities")
    fallback
        sequence
            IsDead
            Die
        sequence
            IsStunned
            Stun
        sequence
            IsTrapTriggered
            IsAtTrapLocation
            MoveToTrap

tree("Push Check")
    sequence
        IsPushing
        ContinuePushing


tree("Attack")
    sequence
        sequence
            IsAlerted
            Alert
        sequence
            sequence
                IsPlayerSeen
                Prowl
            fallback
                sequence
                    IsPlayerMovingTowardsSelf
                    sequence
                        sequence
                            IsAtHidingLocation
                            MoveToHidingLocation
                        Hide
                sequence
                    IsWithinAttackRange
                    Attack
        fallback
            IsHiding
            sequence
                HasNotFledFromPlayer
                Flee

tree("Lay Trap")
    sequence
        IsAtCorridor
        LayTrap

tree("Push")
    sequence
        sequence
            IsAtWaitLocation
            MoveToWaitLocation
        sequence
            IsWithinPushRange
            Push

tree("Patrol")
    sequence
        HasReachedTargetLocation
        Patrol
